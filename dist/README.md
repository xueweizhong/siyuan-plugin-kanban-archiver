# 看板工作流（Kanban Workflow）

“看板工作流”是为思源笔记（SiYuan）属性视图/数据库打造的一体化插件，整合了**看板自动归档**与**报表模板**两大能力，帮助你把看板变成可执行、可沉淀的工作流。

## 功能概览

- 自动归档：按固定时间自动将“已完成”任务归档
- 手动归档：一键归档、支持撤销最近一次归档
- 多规则配置：不同看板可配置不同关键词与状态映射
- 报表模板：可自定义模板、标题、分类与路径
- 多看板汇总：模板可多选规则，按看板分组输出
- 状态映射：自动读取看板状态选项并进行分类映射

## 使用方法（详细）

### 1. 配置归档规则
在设置中点击“新建规则”，填写：
- **规则名称**：便于识别（例如“我的工作看板”）
- **看板关键词**：用于定位标题包含该关键词的文档
- **待归档状态**：如“已完成”
- **目标归档状态**：如“归档”

设置“全局定时归档”后，插件会按时间自动执行归档。

### 2. 配置报表模板
在“报表模板”中：
- 新增模板
- 选择**筛选周期**（不筛选/按日/按周/按月/按年）
- 选择**数据来源规则（可多选）**
- 选择**目标笔记本**（下拉选择，不需要填写 ID）
- 设置**输出路径模板**（可选，支持 `{YYYY}/{MM}/{WW}/{date}`）
- 设置**主标题模板**（支持 `{date}`）
- 在“分类配置”中将状态映射到不同分类

### 3. 生成报表
入口：
- 顶部栏菜单 → `生成：模板名称`
- 模板卡片 → “生成”按钮
- 命令面板 → `生成：模板名称`

结果：
- 自动写入目标文档路径
- 重复点击会自动覆盖旧内容（按标题分段清理）
- 同步复制到剪贴板（富文本 + 纯文本）

## 实际场景示例

假设你有一个看板文档叫“我的工作看板”，状态有：待办、进行中、已完成、归档。

**目标**：每周五生成周报，汇总“已完成/归档”的任务，同时把所有“已完成”自动归档。

**步骤**：
1. 新建归档规则  
   - 规则名称：我的工作看板  
   - 看板关键词：我的工作看板  
   - 待归档状态：已完成  
   - 目标归档状态：归档  
2. 新建报表模板  
   - 模板名称：周报  
   - 筛选周期：每周  
   - 数据来源规则：勾选“我的工作看板”  
   - 目标笔记本：选择“工作日志”  
   - 输出路径模板：`周报/{YYYY}/{WW}`  
   - 主标题模板：`周报（{date}）`  
   - 分类配置：  
     - “待办” → 绑定状态：待办  
     - “进行中” → 绑定状态：进行中  
     - “已完成” → 绑定状态：已完成、归档  
3. 到周五点击「生成：周报」，系统会：
   - 生成周报文档并分组输出  
   - 同步复制到剪贴板  
   - 定时归档时自动把“已完成”移到“归档”

## 注意事项

- “看板关键词”需能唯一定位文档标题
- 状态名称需与 AV 选项完全一致（区分大小写）
- 使用“按周/月/年筛选”时，仅对“已完成/归档”类状态进行时间过滤

## 更新记录

查看：[CHANGELOG](https://github.com/xueweizhong/siyuan-plugin-kanban-archiver/blob/main/CHANGELOG.md)

## ☕️ 请我喝奶茶

本插件完全免费且开源。如果您觉得它对您有帮助，并且您想支持我的开发工作，欢迎请我喝一杯奶茶！🥤

（请注意：赞赏完全自愿，不影响任何功能的使用）

<img src="https://raw.githubusercontent.com/xueweizhong/siyuan-plugin-kanban-archiver/main/mumamuma.png" alt="Donate" width="300" />

---
*注：该插件通过 AI 制作*
